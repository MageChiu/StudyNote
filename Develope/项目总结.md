主要是总结自己做过，参与过的一些项目中用到的技术和自己学习到的东西，防止忘记

____
<!-- TOC -->

- [网络并发库](#网络并发库)
- [车联网协议栈](#车联网协议栈)
- [ApplePay](#applepay)
- [SASS](#sass)
- [后置系统](#后置系统)
    - [整理的一些问题](#整理的一些问题)
        - [高可用](#高可用)
        - [如何应对高并发](#如何应对高并发)
    - [中行借记通道开发](#中行借记通道开发)
    - [后置不规范代码修改整理](#后置不规范代码修改整理)
    - [so加载方式](#so加载方式)
    - [json2array中生僻字无法解析修改](#json2array中生僻字无法解析修改)
    - [cgw对外网接收报文不完整](#cgw对外网接收报文不完整)
    - [`cgw epoll demo`](#cgw-epoll-demo)
    - [openssl 版本升级](#openssl-版本升级)
- [TSM相关开发](#tsm相关开发)
    - [tsm新架构 gdds](#tsm新架构-gdds)

<!-- /TOC -->
____

# 网络并发库

# 车联网协议栈


# ApplePay

# SASS

# 后置系统

## 整理的一些问题

### 高可用

### 如何应对高并发


## 中行借记通道开发




## 后置不规范代码修改整理

问题：
- 1、goto
- 2、返回值忽略
- 3、strcat       
- 4、strlen
- 5、溢出
- 6、线程安全函数
- 7、空指针
- 8、数组越界
- 9、内存未释放
- 10、无效引用释放
- 11、未初始化
- 12、数据污染
- 13、sprintf



## so加载方式

原来so的加载方式是通过机构号进行so的加载，现在需要修改为：
- 通过so的名字记载
- 加载新机构，如果so存在，不需要重启
- 相同的so在内存中加载一次

首先，加载so的时间：


需要使用so的模块：


调用方法：


这里整理出解决方案有三种，区别主要是在保存so的数据结构中，这里：
1. 使用hash table
2. 使用红黑树
3. 只加载so

测试案例方向：
1. 所有机构回归
2. 设置两个使用大A规范的机构，测试使用同一套so会不会出现异常

## json2array中生僻字无法解析修改

原因是在json规范中，`\"`和`"`是一样处理的，这就导致会将


## cgw对外网接收报文不完整
现象：
1. 生产上中行chunked格式报文会出现偶发性的无法接收到报文体
2. PM环境出现找不到报文头结束符`\r\n\r\n`

分析原因：
- 问题1：收到了报文，但是仅仅收到了报文头
    - 复现过程：
- 问题2：收到了报文，但是在超时的时候报文头接收不完整。
    - 复现过程：将报文头切分为两段发送

修改方案：
- 增加关于超时的报错信息
    - 明确是因为超时失败的
    - 去掉因为调用strstr失败的报错
    
- 时间采用需求精确度的下一量级，采用ms进行计算
    - 


## `cgw epoll demo`
这里主要是用epoll写一个后置的网关的demo仿真

思考一下如何构建：
1. master去调控整个服务
2. worker负责分发     
    
        1.  [这里是否需要区别方向呢？]
        2.  这里如何保证数据不丢失？ 
3. 如何将fd和交易绑定，以及如何原路应答给原来的服务



## openssl 版本升级
主要是评估影响性。

改造方案：
1. openssl库采用`1.0.2f`
2. 支持的协议在原有的TLSv1、SSLv2、SSLv3中，增加支持 TLSv1.1 TLSv1.2
    1. TLSv1_2
    2. TLSv1_1

修改文件：
1. Makefile.zcres
2. cgwWorkDuplex.c
3. cgw/bank2/Makefile



# TSM相关开发

## tsm新架构 gdds
[开发环境]：
172.21.15.40  gddsclt_tsmmo
mp_tsmas/Sdf~bnm! 

模块名称：gddsclt_kxodb 
bin: V22722_SUSE11_LINUX_SP4 
libso:V22401_SUSE11_LINUX_SP4 
zdogs:V[0][1][0]_LINUX_SP4 

==>更正：
bin: V22722_SUSE11_LINUX_SP4
libso:V22721_SUSE11_LINUX_SP4
zdogs:V[0][1][0]_LINUX_SP4


GDDS: lib/libgd.so 
ZDOGS: lib/libzdogs4c.so 
GDDSCLT_COMMON: bin/*

``` bash
cvs co -r V22721_SUSE11_LINUX_SP4 GDDS
cvs co -r V22722_SUSE11_LINUX_SP4 GDDSCLT_COMMON
cvs co -r V[0][1][0]_LINUX_SP4 ZDOGS
```


``` bash
cvs co -r V22401_SUSE11_LINUX_SP4 GDDS
```

``` bash
cvs co -r V20702_SUSI_LINUX_SP4 GDDSCLT_COMMON
```

```
mysql -h172.21.15.79 -P14049 -ukx_onlap -pkx_onlap
```










